<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PnP Card Cropper</title>
  <style>
    #previewCanvas {
      border: 1px solid #000;
      max-width: 100%;
    }
    #status {
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <h1>PnP Card Cropper</h1>
  <form id="cropForm">
    <input type="file" id="pdfFile" accept="application/pdf" /><br>
    <label>Starting Page: <input type="number" id="startingPage" value="1" min="1" /></label><br>
    <label>Page Layout: </label>
    <input type="radio" id="page_no_back" name="page_layout" value="no_back">
    <label for="page_no_back">No Back Face</label>
    <input type="radio" id="page_duplex" name="page_layout" value="duplex" checked>
    <label for="page_duplex">Duplex</label>
    <input type="radio" id="page_fold_vertical" name="page_layout" value="fold_vertical">
    <label for="page_fold_vertical">Fold Vertical</label>
    <input type="radio" id="page_fold_horizontal" name="page_layout" value="fold_horizontal">
    <label for="page_fold_horizontal">Fold Horizontal</label><br>
    <label>Rows: <input type="number" id="rows" value="1" min="1" /></label><br>
    <label>Columns: <input type="number" id="columns" value="1" min="1" /></label><br>
    <label>Top Margin: <input type="number" id="topMargin" value="0" min="0" /></label><br>
    <label>Bottom Margin: <input type="number" id="bottomMargin" value="0" min="0" /></label><br>
    <label>Left Margin: <input type="number" id="leftMargin" value="0" min="0" /></label><br>
    <label>Right Margin: <input type="number" id="rightMargin" value="0" min="0" /></label><br>
    <label>Row Margin: <input type="number" id="rowMargin" value="0" min="0" /></label><br>
    <label>Column Margin: <input type="number" id="columnMargin" value="0" min="0" /></label><br>
    <button type="submit">Crop PDF</button>
  </form>
  <div id="status"></div>
  <a id="downloadLink" download="cropped.pdf" style="display:none">Download Cropped PDF</a>
  <a id="downloadFrontLink" download="front.pdf" style="display:none">Download Front PDF</a>
  <a id="downloadBackLink" download="back.pdf" style="display:none">Download Back PDF</a><br>
  <canvas id="previewCanvas" width="1080" height="1920"></canvas>
  <canvas id="zoomCanvas" width="400" height="200" style="position:absolute; top:0; left:0; display:none"></canvas>
  <script src="https://unpkg.com/pdf-lib/dist/pdf-lib.min.js"></script>
  <script src="https://mozilla.github.io/pdf.js/build/pdf.mjs" type="module"></script>
  <script src="script.js"></script>
</body>
</html>
